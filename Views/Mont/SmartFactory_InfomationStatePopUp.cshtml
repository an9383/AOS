@using HACCP.Libs;
@using Newtonsoft.Json;
@{
    ViewBag.Title = "SmartFactory_InfomationStatePopUp";
    Layout = null;

    var smartFactoryInfomationStateEquipList = @Html.Raw(Json.Encode(ViewBag.smartFactoryInfomationStateEquipList.Data));
    var smartFactoryInfomationStateData1 = @Html.Raw(Json.Encode(ViewBag.smartFactoryInfomationStateData1.Data));
    var smartFactoryInfomationStateData2 = @Html.Raw(Json.Encode(ViewBag.smartFactoryInfomationStateData2.Data));

    var plantLogo = @Html.Raw(JsonConvert.SerializeObject(ViewBag.loginData.Data));
}

<script>
    // 차트용 데이터 입력을 위한 객체
    var SmartFactory_InfomationStatePopUp_ChartData = new Object();

    // 새로고침 객체
    var SmartFactory_InfomationStatePopUp_intervalSet = {
        SmartFactory_InfomationStatePopUp_intervalMaster: {
            intervalExcute: function () {
                var time = 15;
                var _setSize = Object.keys(SmartFactory_InfomationStatePopUp_intervalSet).length;
                var _thisViewId = "SmartFactory_InfomationStatePopUp";


                if (_setSize > 1) {
                    for (var i = 0; i < (_setSize - 1); i++) {
                        if (i == 1) {
                            time = 1;
                        }

                        var _excuteString = _thisViewId + "_intervalSet." + _thisViewId + "_intervalMaster.interval_" + i + " = setInterval(function() {"
                            + _thisViewId + "_intervalSet." + _thisViewId + "_interval_" + i + "(" + i + ");"
                            + "}, (" + time + " * 1000))";

                        new Function(_excuteString)();
                    }
                }

            },
            intervalDelete: function (index, check) {
                var _thisViewId = "SmartFactory_InfomationStatePopUp";
                var _currentViewId = UtilView.getCurrentViewId();

                var _excuteString = "";
                if (check == 0) {
                    _excuteString = "if(" + _thisViewId + " != " + _currentViewId + ") {"
                        + "clearInterval(" + _thisViewId + "_intervalSet." + _thisViewId + "_intervalMaster.interval_" + index + ");"
                        + "}";
                } else {
                    _excuteString = "clearInterval(" + _thisViewId + "_intervalSet." + _thisViewId + "_intervalMaster.interval_" + index + ");";
                }

                new Function(_excuteString)();
            }
        },
        SmartFactory_InfomationStatePopUp_interval_0: function () {
            SmartFactory_InfomationStatePopUp_NextPage(0);

            SmartFactory_InfomationStatePopUp_intervalSet.SmartFactory_InfomationStatePopUp_intervalMaster.intervalDelete(0, 0);
        },
        SmartFactory_InfomationStatePopUp_interval_1: function () {
            SmartFactory_InfomationStatePopUp_Time();

            SmartFactory_InfomationStatePopUp_intervalSet.SmartFactory_InfomationStatePopUp_intervalMaster.intervalDelete(1, 0);
        }
    }


    $(function () {
        document.documentElement.webkitRequestFullscreen();
        SmartFactory_InfomationStatePopUp_intervalSet.SmartFactory_InfomationStatePopUp_intervalMaster.intervalExcute();

        var popup = $("#SmartFactory_InfomationStatePopUp_popup").dxPopup("instance");
        popup.option("contentTemplate", $("#SmartFactory_InfomationStatePopUp_popupTemplate"));
        popup.show();

        SmartFactory_InfomationStatePopUp_Time();

        if (@plantLogo != null) {
            $("div#logo_div_abs img").attr("src", JSON.parse(@plantLogo)[0].company_full_image);
        }


        var jsonData = new Array();

        if (JSON.parse(@smartFactoryInfomationStateData1) != null) {
            jsonData[0] = JSON.parse(@smartFactoryInfomationStateData1);
        }

        if (JSON.parse(@smartFactoryInfomationStateData2) != null) {

            jsonData[1] = JSON.parse(@smartFactoryInfomationStateData2);
        }


        if (jsonData.length > 0) SmartFactory_InfomationStatePopUp_popup_DateInsert(jsonData);


        $("#SmartFactory_InfomationStatePopUp_popup a[data-slide='prev']").on("click", function () {
            SmartFactory_InfomationStatePopUp_NextPage(1);
        });
        $("#SmartFactory_InfomationStatePopUp_popup a[data-slide='next']").on("click", function () {
            SmartFactory_InfomationStatePopUp_NextPage(1);
        });


    })


    // #region 팝업 종료, 풀스크린 종료 시
    document.addEventListener('fullscreenchange', SmartFactory_InfomationStatePopUp_popup_exitHandler);
    document.addEventListener('webkitfullscreenchange', SmartFactory_InfomationStatePopUp_popup_exitHandler);
    document.addEventListener('mozfullscreenchange', SmartFactory_InfomationStatePopUp_popup_exitHandler);
    document.addEventListener('MSFullscreenChange', SmartFactory_InfomationStatePopUp_popup_exitHandler);

    function SmartFactory_InfomationStatePopUp_popup_exitHandler() {
        if (!document.fullscreenElement && !document.webkitIsFullScreen && !document.mozFullScreen && !document.msFullscreenElement) {
            var popup = $("#SmartFactory_InfomationStatePopUp_popup").dxPopup("instance");
            popup.option("contentTemplate", $("#SmartFactory_InfomationStatePopUp_popupTemplate"));
            popup.hide();
        }
    }

    function SmartFactory_InfomationStatePopUp_popup_FullScreenOff() {
        document.exitFullscreen();
    }

    function SmartFactory_InfomationStatePopUp_popup_ThisTabOff() {
        $("button#SmartFactory_InfomationStatePopUp_Tab > span").click();

    }
    // #endregion


    // 조회
    async function SmartFactory_InfomationStatePopUpSearch(equip_cd) {

        $.ajax({
            type: 'POST',
            url: '/Mont/SmartFactory_InfomationState2',
            data: {
                equip_cd: equip_cd
            },
            success: function (result) {
                if (result != "") {
                    var jsonData = new Array();
                    for (let i = 0; i < result.length; i++) {

                        if (result[i] != "" && result[i] != null) {
                            jsonData[i] = JSON.parse(result[i]);
                        }
                        else {
                            jsonData[i] = result[i];
                        }

                    }

                    if (result.hasOwnProperty('sessionLoss')) {
                        alert("세션이 만료되었습니다.");
                        sessionStorage.clear();
                        location.replace("/Comm/Login");
                    }

                    if (jsonData[0] == null) {
                        SmartFactory_InfomationStatePopUp_NextPage(0, equip_cd);
                        return;
                    } else {
                        SmartFactory_InfomationStatePopUp_ChangePage();
                        SmartFactory_InfomationStatePopUp_popup_DateInsert(jsonData);
                    }

                }

            }
        })
    }


    function SmartFactory_InfomationStatePopUp_popup_DateInsert(data) {
        SmartFactory_InfomationStatePopUpDataReset();

        var date = new Date();
        $("#SmartFactory_InfomationStatePopUp_popup div#last_div p.text-danger").text(date.format("yyyy-MM-dd hh:mm:ss"));

        $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").text(data[0][0].work_status_nm);

        var state = data[0][0].work_status;
        if (state == "1") {
            $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").css("background-color", "#5CC69C");

        } else if (state == "3") {
            $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").css("background-color", "#56E742");

        } else if (state == "4") {
            $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").css("background-color", "gray");

        } else if (state == "6") {
            $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").css("background-color", "#FF7D31");

        }


        if (data[0] != null) {
            // lot_num
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_row fieldset.prescriptionFieldSet:eq(0) p").text(data[0][0].lot_no);
            // 목표수량
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_row fieldset.prescriptionFieldSet:eq(1) p").text(Number_Format((data[0][0].order_qty)) + " " + data[0][0].item_packunit);
            // 제품명
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_row fieldset.prescriptionFieldSet:eq(2) p").text(data[0][0].item_nm);
            // 설비명
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_row fieldset.prescriptionFieldSet:eq(3) p").text(data[0][0].equip_nm);

            SmartFactory_InfomationStatePopUp_ChartData.orderQty = data[0][0].order_qty;
            SmartFactory_InfomationStatePopUp_ChartData.itemPackunit = data[0][0].item_packunit;
            SmartFactory_InfomationStatePopUp_ChartData.equip_cd = data[0][0].equip_cd;

            // 계획 그리드 데이터 입력
            SmartFactory_InfomationStatePopUp_PlanData_Insert(data);
            // 상품이미지 입력
            SmartFactory_InfomationStatePopUp_ItemImgSearch(data[0][0].item_cd);
        } else {
            return;
        }

        console.log(data[1]);
        if (data[1] != null) {
            if (data[1][0].output_qty != null) {

                SmartFactory_InfomationStatePopUp_ResultData_Insert(data);


                SmartFactory_InfomationStatePopUp_ChartDraw();
                SmartFactory_InfomationStatePopUp_CircleChartDraw();
                SmartFactory_InfomationStatePopUp_BarSplineChartDraw(data);
            }
        } else {

            return;
        }

    }


    // 생산계획 테이블
    function SmartFactory_InfomationStatePopUp_PlanData_Insert(data) {


        // 목표수량
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(0) div:eq(0)").text(Number_Format((data[0][0].order_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(0) div:eq(1)").text((data[0][0].item_packunit));


        // 표준시간 - 시간당
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(1) div:eq(0)").text(Number_Format((data[0][0].uph_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(1) div:eq(1)").text((data[0][0].item_packunit + "/HR"));


        // 표준시간 - 초당
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(2) div:eq(0)").text(Number_Format((data[0][0].ups_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(2) div:eq(1)").text((data[0][0].item_packunit + "/SEC"));
        SmartFactory_InfomationStatePopUp_ChartData.planUpsQty = data[0][0].ups_qty;

        // 생산시간
        var plan_time = "";
        if (data[0][0].plan_start_time == null && data[0][0].plan_end_time == null) {
            //plan_time = "입력된 설비 가동 계획이 없습니다.";
            plan_time = "-";
        } else {
            plan_time = getFormatDate(new Date(data[0][0].plan_start_time)) + "~" + getFormatDate(new Date(data[0][0].plan_end_time));
        }

        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(3)").text(plan_time);

        var time_min = "-";
        if (data[0][0].required_min != null) {
            if (data[0][0].required_min > 60) {
                time_min = Math.floor(data[0][0].required_min / 60) + "시간";
                if ((data[0][0].required_min % 60) != 0) {
                    time_min += (data[0][0].required_min % 60) + "분";
                }

            } else {
                time_min = data[0][0].required_min + "분";
            }
        }

        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(4)").text(time_min);
        SmartFactory_InfomationStatePopUp_ChartData.planRequiredMin = data[0][0].required_min == null ? 0 : data[0][0].required_min;


        // 중량
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(5) div:eq(0)").text(Number_Format((data[0][0].item_content)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(5) div:eq(1)").text(data[0][0].item_content_unit);
        SmartFactory_InfomationStatePopUp_ChartData.planWeight = data[0][0].item_content;
        SmartFactory_InfomationStatePopUp_ChartData.itemContentUnit = data[0][0].item_content_unit;


        // 편차
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(6) div:eq(0)").text(Number_Format((data[0][0].item_error_range)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(6) div:eq(1)").text("±");


        // 투입인원
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(7) div:eq(0)").text(Number_Format((data[0][0].worker_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(7) div:eq(1)").text("명");


        // 투입인원 - 생산자당 생산수
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(8) div:eq(0)").text(Number_Format((data[0][0].upp_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(8) div:eq(1)").text(data[0][0].item_packunit + "/MAN");


        // 관리자
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(9) div:eq(0)").text(data[0][0].inspector_nm);
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(9) div:eq(1)").text(data[0][0].inspector_post_nm);
    }


    // 생산실적 테이블
    function SmartFactory_InfomationStatePopUp_ResultData_Insert(data) {

        // 생산수량
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(0) div:eq(0)").text(Number_Format((data[1][0].output_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(0) div:eq(1)").text((data[0][0].item_packunit));
        SmartFactory_InfomationStatePopUp_ChartData.outputQty = data[1][0].output_qty;

        // 진행율
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(1) div:eq(0)").text(Number_Format((data[1][0].progress_rate)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(1) div:eq(1)").text("%");
        SmartFactory_InfomationStatePopUp_ChartData.resultProgressRate = data[1][0].progress_rate;


        // 표준시간 - 시간당
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(2) div:eq(0)").text(Number_Format((data[1][0].uph_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(2) div:eq(1)").text((data[0][0].item_packunit + "/HR"));


        // 표준시간 - 초당
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(3) div:eq(0)").text(Number_Format((data[1][0].ups_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(3) div:eq(1)").text((data[0][0].item_packunit + "/SEC"));
        SmartFactory_InfomationStatePopUp_ChartData.resultUpsQty = data[1][0].ups_qty;


        // 생산시간
        var plan_time = "";
        if (data[1][0].result_start_time == null && data[1][0].result_end_time == null) {
            plan_time = "-"
        } else {
            plan_time = getFormatDate(new Date(data[1][0].result_start_time)) + "~" + getFormatDate(new Date(data[1][0].result_end_time));
        }

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(4)").text(plan_time);

        var time_min = "-";
        if (data[1][0].required_min != null) {
            if (data[1][0].required_min > 60) {
                time_min = Math.floor(data[1][0].required_min / 60) + "시간";
                if ((data[1][0].required_min % 60) != 0) {
                    time_min += (data[1][0].required_min % 60) + "분";
                }

            } else {
                time_min = data[1][0].required_min + "분";
            }
        }

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(5)").text(time_min);
        SmartFactory_InfomationStatePopUp_ChartData.resultRequiredMin = data[1][0].required_min;


        // 양품율
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(6) div:eq(0)").text(Number_Format((data[1][0].ok_rate)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(6) div:eq(1)").text("%");


        // 불량율
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(7) div:eq(0)").text(Number_Format((data[1][0].defect_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(7) div:eq(1)").text(data[0][0].item_packunit);
        SmartFactory_InfomationStatePopUp_ChartData.defectQty = data[1][0].defect_qty;

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(8) div:eq(0)").text(Number_Format((data[1][0].defect_rate)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(8) div:eq(1)").text("%");
        SmartFactory_InfomationStatePopUp_ChartData.defectRate = data[1][0].defect_rate;


        // 평균중량, 표준편차
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(9) div:eq(0)").text(Number_Format((data[1][0].weight_avg)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(9) div:eq(1)").text(data[0][0].item_content_unit);
        SmartFactory_InfomationStatePopUp_ChartData.resultWeight = data[1][0].weight_avg;

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(10) div:eq(0)").text(Number_Format((data[1][0].weight_std)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(10) div:eq(1)").text("±");

        // 투입인원
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(11) div:eq(0)").text(Number_Format((data[1][0].worker_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(11) div:eq(1)").text("명");

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(12) div:eq(0)").text(Number_Format((data[1][0].upp_qty)));
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(12) div:eq(1)").text(data[0][0].item_packunit + "/MAN");

        return;

    }


    // #region first_page chart
    function SmartFactory_InfomationStatePopUp_ChartDraw() {

        // 진행율 차트
        SmartFactory_InfomationStatePopUp_ProgressChartDraw();

        // 생산시간 차트
        SmartFactory_InfomationStatePopUp_ProductTimeChartDraw();

        //초당 생산율 차트
        SmartFactory_InfomationStatePopUp_UPSQtyChartDraw();

        // 중량 차트
        SmartFactory_InfomationStatePopUp_WeightChartDraw();

    }


    function SmartFactory_InfomationStatePopUp_ProgressChartDraw() {

        var dataSource = [{
            state: "진행율(%)",
            plan: 100.000,
            result: parseFloat(SmartFactory_InfomationStatePopUp_ChartData.resultProgressRate)
        }];

        $("#progress_chart").dxChart("option", "dataSource", dataSource);
    }


    function SmartFactory_InfomationStatePopUp_ProductTimeChartDraw() {

        var dataSource = [{
            state: "생산시간(분)",
            plan: SmartFactory_InfomationStatePopUp_ChartData.planRequiredMin,
            result: SmartFactory_InfomationStatePopUp_ChartData.resultRequiredMin
        }];

        $("#productTime_chart").dxChart("option", "dataSource", dataSource);
    }


    function SmartFactory_InfomationStatePopUp_UPSQtyChartDraw() {

        var dataSource = [{
            state: SmartFactory_InfomationStatePopUp_ChartData.itemPackunit + "/SEC",
            plan: parseFloat(SmartFactory_InfomationStatePopUp_ChartData.planUpsQty),
            result: parseFloat(SmartFactory_InfomationStatePopUp_ChartData.resultUpsQty)
        }];

        $("#UPSQty_chart").dxChart("option", "dataSource", dataSource);
    }


    function SmartFactory_InfomationStatePopUp_WeightChartDraw() {

        var dataSource = [{
            state: "중량(" + SmartFactory_InfomationStatePopUp_ChartData.itemContentUnit + ")",
            plan: parseFloat(SmartFactory_InfomationStatePopUp_ChartData.planWeight),
            result: parseFloat(SmartFactory_InfomationStatePopUp_ChartData.resultWeight)
        }];

        $("#weight_chart").dxChart("option", "dataSource", dataSource);
    }
    // #endregion


    // #region second_page circleChart
    function SmartFactory_InfomationStatePopUp_CircleChartDraw(data) {

        // 생산수량 게이지 차트
        SmartFactory_InfomationStatePopUp_OrderQtyChartDraw();

        // 불량수량 게이지 차트
        SmartFactory_InfomationStatePopUp_DefectRateChartDraw();

        // 생산시간 게이지 차트
        SmartFactory_InfomationStatePopUp_WorkTimeChartDraw();
    }


    function SmartFactory_InfomationStatePopUp_OrderQtyChartDraw() {
        var rate = SmartFactory_InfomationStatePopUp_ChartData.resultProgressRate;
        var output_qty = SmartFactory_InfomationStatePopUp_ChartData.outputQty;
        var end = rate > 100 ? rate : 100;

        $("#order_qty_chart").dxBarGauge("option", "EndValue", end);
        $("#order_qty_chart").dxBarGauge({
            endValue: end,
            values: [100, rate]
        });

        $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div#order_qty_chart_div div.sub_info").text(Number_Format(output_qty) + SmartFactory_InfomationStatePopUp_ChartData.itemPackunit
            + " (" + Math.floor(rate) + "%)");

    }


    function SmartFactory_InfomationStatePopUp_DefectRateChartDraw() {
        var qty = SmartFactory_InfomationStatePopUp_ChartData.defectQty;
        var rate = SmartFactory_InfomationStatePopUp_ChartData.defectRate;

        $("#defect_chart").dxBarGauge({
            endValue: 100,
            values: [100, rate]
        });


        $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div#defect_chart_div div.sub_info").text(Number_Format(qty) + SmartFactory_InfomationStatePopUp_ChartData.itemPackunit
            + " (" + Math.floor(rate) + "%)");
    }


    function SmartFactory_InfomationStatePopUp_WorkTimeChartDraw() {
        var planRequiredMin = SmartFactory_InfomationStatePopUp_ChartData.planRequiredMin;
        var resultRequiredMin = SmartFactory_InfomationStatePopUp_ChartData.resultRequiredMin;

        $("#work_time_chart").dxBarGauge({
            endValue: (planRequiredMin >= resultRequiredMin ? planRequiredMin : resultRequiredMin) == 0 ? 100 : (planRequiredMin >= resultRequiredMin ? planRequiredMin : resultRequiredMin),
            values: [planRequiredMin, resultRequiredMin]

        });


        var hour_min;
        if (resultRequiredMin > 60) {
            if (resultRequiredMin % 60 == 0) {
                hour_min = Math.floor(resultRequiredMin / 60) + "시간";
            } else {
                hour_min = Math.floor(resultRequiredMin / 60) + "시간" + (resultRequiredMin % 60) + "분";
            }
        } else {
            hour_min = resultRequiredMin + "분";
        }

        var hour_min_p;
        if (planRequiredMin == 0 && resultRequiredMin == 0) {
            hour_min_p = 0;
        } else {
            if (planRequiredMin < resultRequiredMin) {
                hour_min_p = 100;
            } else {
                hour_min_p = Math.floor((resultRequiredMin / planRequiredMin) * 100);
            }
        }

        $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div#work_time_chart_div div.sub_info")
            .text(hour_min + " (" + hour_min_p + "%)");
    }


    function SmartFactory_InfomationStatePopUp_BarSplineChartDraw(data) {
        var start_time = new Date(data[1][0].result_start_time);
        var stop_time = new Date(data[1][0].result_end_time);
        var equip_cd = data[0][0].equip_cd;
        var equip_type = data[0][0].equip_type2;
        var item_cd = data[0][0].item_cd;

        $.ajax({
            type: 'POST',
            async: false,
            url: '/Mont/BarSplineChartDataSearch',
            data: {
                start_time: getFormatDate(start_time),
                stop_time: getFormatDate(stop_time),
                equip_cd: equip_cd,
                equip_type2: equip_type,
                item_cd: item_cd
            },
            success: function (result) {

                if (result != "") {
                    var json = JSON.parse(result);

                    if (result.hasOwnProperty('sessionLoss')) {
                        alert("세션이 만료되었습니다.");
                        sessionStorage.clear();
                        location.replace("/Comm/Login");
                    }


                    $("#bar_spline_chart").dxChart("option", "dataSource", []);
                    $("#bar_spline_chart").dxChart("option", "dataSource", json);

                } else {
                    $("#bar_spline_chart").dxChart("option", "dataSource", []);

                }
            }
        })

    }
    // #endregion


    //제품 이미지 검색
    function SmartFactory_InfomationStatePopUp_ItemImgSearch(item_cd) {
        $.ajax({
            type: 'POST',
            url: '/Mont/ItemImgSearch',
            data: {
                item_cd: item_cd
            },
            success: function (result) {

                $("div#img_div_abs img#item_img").attr("src", JSON.parse(result)[0].upper_image);

            }
        })
    }

    // 우측 상단 현재시간 표시
    function SmartFactory_InfomationStatePopUp_Time() {
        var date = new Date();

        $("div#TopRight_Div p").first().text(date.format("yyyy년 MM월 dd일 a/p hh시 mm분 ss초"));
    }


    function SmartFactory_InfomationStatePopUp_ChangePage() {
        var page_check = $("div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1").hasClass("display-none");

        if (page_check) {
            $("div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1").removeClass("display-none");
            $("div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2").removeClass("display-none");

            $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1").addClass("display-none");
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_2").addClass("display-none");

            $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").css("right", "40px");
            $("div#SmartFactory_InfomationStatePopUp_popup div#img_div_abs").css("bottom", "70px");

        } else {
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1").removeClass("display-none");
            $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_2").removeClass("display-none");

            $("div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1").addClass("display-none");
            $("div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2").addClass("display-none");


            $("div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs").css("right", "110px");
            $("div#SmartFactory_InfomationStatePopUp_popup div#img_div_abs").css("bottom", "130px");
        }
    }


    //좌우 버튼, 새로고침   0 >> 자동 새로고침일 경우, 1 >> 좌우 페이지 변경 버튼 클릭 시
    function SmartFactory_InfomationStatePopUp_NextPage(state, curr_equip_cd) {
        var _equip_cd = SmartFactory_InfomationStatePopUp_ChartData.equip_cd;
        if (typeof curr_equip_cd != "undefined") _equip_cd = curr_equip_cd;

        var equip_cd;
        if (state == 0) {
            var equipArry = JSON.parse(@smartFactoryInfomationStateEquipList);
            var next_equip;

            for (var i in equipArry) {
                var i = parseInt(i);

                if (equipArry[i].equip_cd == _equip_cd) {

                    if (i == equipArry.length - 1) {
                        next_equip = equipArry[0].equip_cd;
                    } else {
                        next_equip = equipArry[i + 1].equip_cd;
                    }

                    break;
                }
            }

            if (SmartFactory_InfomationStatePopUp_ChartData.CurrentCount == 0 || typeof SmartFactory_InfomationStatePopUp_ChartData.CurrentCount == "undefined") {

                SmartFactory_InfomationStatePopUp_ChartData.CurrentCount = 1;

                equip_cd = _equip_cd;

            } else if (SmartFactory_InfomationStatePopUp_ChartData.CurrentCount == 1) {

                SmartFactory_InfomationStatePopUp_ChartData.CurrentCount = 0;

                equip_cd = next_equip;

            }


        } else {

            equip_cd = _equip_cd;

        }

        if (typeof equip_cd == "undefined") {
            SmartFactory_InfomationStatePopUp_ChangePage();

            return;
        }

        SmartFactory_InfomationStatePopUpSearch(equip_cd);
    }


    // 3자리 ,
    function Number_Format(number) {
        return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }


    function Number_Change(number1, number2) {

        if (number2 == 0) {
            var result = Math.floor(number1);

            return result;
        } else {
            var count = Math.pow(10, number2);
            var num = Math.floor(number1 * count) / count;
            var result = num.toFixed(number2)// 0을 채워주기 toFixed를 이용

            return result;
        }
    }


    function getFormatDate(date) {
        var year = date.getFullYear();              //yyyy
        var month = (1 + date.getMonth());          //M
        month = month >= 10 ? month : '0' + month;  //month 두자리로 저장

        var day = date.getDate();                   //d
        day = day >= 10 ? day : '0' + day;          //day 두자리로 저장

        var hour = date.getHours();
        hour = hour >= 10 ? hour : '0' + hour;

        var min = date.getMinutes();
        min = min >= 10 ? min : '0' + min;

        var sec = date.getSeconds();
        sec = sec >= 10 ? sec : '0' + sec;

        //return year + '-' + month + '-' + day + " " + hour + ":" + min + ":" + sec;       //'-' 추가하여 yyyy-mm-dd 형태 생성 가능
        return year + '-' + month + '-' + day + " " + hour + ":" + min;       //'-' 추가하여 yyyy-mm-dd 형태 생성 가능
    }

    function SmartFactory_InfomationStatePopUpDataReset() {
        SmartFactory_InfomationStatePopUpPlanGridReset();
        SmartFactory_InfomationStatePopUpResultGridReset();


        $("#progress_chart").dxChart("option", "dataSource", []);
        $("#productTime_chart").dxChart("option", "dataSource", []);
        $("#UPSQty_chart").dxChart("option", "dataSource", []);
        $("#weight_chart").dxChart("option", "dataSource", []);

        $("#order_qty_chart").dxBarGauge({
            endValue: 100,
            values: [0, 0]
        });
        $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div#order_qty_chart_div div.sub_info").text("-");

        $("#defect_chart").dxBarGauge({
            endValue: 100,
            values: [0, 0]
        });
        $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div#defect_chart_div div.sub_info").text("-");

        $("#work_time_chart").dxBarGauge({
            endValue: 100,
            values: [0, 0]

        });
        $("div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div#work_time_chart_div div.sub_info").text("-");

        $("#bar_spline_chart").dxChart("option", "dataSource", []);

        $("div#img_div_abs img#item_img").attr("src", "");
    }

    function SmartFactory_InfomationStatePopUpPlanGridReset() {

        // 목표수량
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(0) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(0) div:eq(1)").text("-");


        // 표준시간 - 시간당
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(1) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(1) div:eq(1)").text("-/HR");


        // 표준시간 - 초당
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(2) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(2) div:eq(1)").text("-/SEC");
        SmartFactory_InfomationStatePopUp_ChartData.planUpsQty = 0

        // 생산시간

        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(3)").text("-");

        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(4)").text("-");
        SmartFactory_InfomationStatePopUp_ChartData.planRequiredMin = 0;


        // 중량
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(5) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(5) div:eq(1)").text("-");
        SmartFactory_InfomationStatePopUp_ChartData.planWeight = 0;
        SmartFactory_InfomationStatePopUp_ChartData.itemContentUnit = "-"


        // 편차
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(6) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(6) div:eq(1)").text("±");


        // 투입인원
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(7) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(7) div:eq(1)").text("명");


        // 투입인원 - 생산자당 생산수
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(8) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(8) div:eq(1)").text("-/MAN");


        // 관리자
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(9) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #plan_div div.plan_grid div.item.content_div:eq(9) div:eq(1)").text("-");
    }

    function SmartFactory_InfomationStatePopUpResultGridReset() {

        // 생산수량
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(0) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(0) div:eq(1)").text("-");
        SmartFactory_InfomationStatePopUp_ChartData.outputQty = 0;

        // 진행율
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(1) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(1) div:eq(1)").text("%");
        SmartFactory_InfomationStatePopUp_ChartData.resultProgressRate = 0;


        // 표준시간 - 시간당
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(2) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(2) div:eq(1)").text("-/HR");


        // 표준시간 - 초당
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(3) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(3) div:eq(1)").text("-/SEC");
        SmartFactory_InfomationStatePopUp_ChartData.resultUpsQty = 0;


        // 생산시간
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(4)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(5)").text("-");
        SmartFactory_InfomationStatePopUp_ChartData.resultRequiredMin = 0;


        // 양품율
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(6) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(6) div:eq(1)").text("%");


        // 불량율
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(7) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(7) div:eq(1)").text("-");
        SmartFactory_InfomationStatePopUp_ChartData.defectQty = 0;

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(8) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(8) div:eq(1)").text("%");
        SmartFactory_InfomationStatePopUp_ChartData.defectRate = 0;


        // 평균중량, 표준편차 >> ??
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(9) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(9) div:eq(1)").text("-");
        SmartFactory_InfomationStatePopUp_ChartData.resultWeight = 0;

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(10) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(10) div:eq(1)").text("±");

        // 투입인원
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(11) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(11) div:eq(1)").text("명");

        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(12) div:eq(0)").text("-");
        $("div#SmartFactory_InfomationStatePopUp_popup #result_div div.result_grid div.item.content_div:eq(12) div:eq(1)").text("-/MAN");

    }

</script>

    <style>
        div#SmartFactory_InfomationStatePopUp_popup {
            height: 100%;
        }


        .dx-popup-content {
            padding-bottom: 3px;
            padding-top: 3px;
        }


        /*타이틀 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#first_row {
            height: 5%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_row div#TopLeft_Div p {
            color: #2a68d4;
            font-weight: 800;
        }


        /*Lot번호, 목표수량~~ div*/
        div#SmartFactory_InfomationStatePopUp_popup div#second_row {
            height: 10%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#second_row .prescriptionFieldSet .prescriptionLegend {
            font-size: 25px;
            font-weight: 600;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#second_row .prescriptionFieldSet .divName p {
            font-size: 25px;
            font-weight: 600;
        }


        div#SmartFactory_InfomationStatePopUp_popup div#second_row #TopRight_Div {
            font-size: 1.85em;
            font-weight: 600;
            padding-top: 2em;
        }




        /*1페이지 상단 테이블 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1 {
            height: 50%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1 div.divName {
            text-align: center;
            font-size: 25px;
        }



        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1 .unit_style {
            color: #2424248a;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1 .plan_style {
            background: #0E858F;
            color: white;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1 .result_style {
            background: #8F0500;
            color: white;
        }



        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_1 div#result_div td {
            border: 1px solid #6E0400;
        }


        /*1페이지 하단 차트 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2 {
            height: 32%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2 div#legend_div {
            height: 10%;
            text-align: center;
            position: relative;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2 div#legend_div div {
            height: 80%;
            width: 2%;
            position: absolute;
            top: 10%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2 div#chart_div {
            height: 90%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#first_page_div_2 div#chart_div div.container-fluid {
            height: 100%;
        }


        /* 2페이지 상단 차트 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 {
            height: 45%;
        }

        div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_1 div.sub_info {
            font-size: 25px;
            font-weight: 600;
        }


        /* 2페이지 하단 차트 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#second_page_div_2 {
            height: 37%;
        }


        /*하단 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#last_div {
            height: 3%;
        }


        /*하단 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#last_div div.col-4 {
            margin-left: 82%;
        }


        /*제품 이미지 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#img_div_abs {
            height: 320px;
            width: 270px;
            line-height: 320px;
            position: absolute;
            bottom: 70px;
            right: 50px;
        }


        div#SmartFactory_InfomationStatePopUp_popup div#img_div_abs img {
            max-height: 100%;
            max-width: 100%;
            vertical-align: middle;
        }


        /* 원 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#circle_div_abs {
            border-radius: 50%;
            height: 150px;
            width: 150px;
            line-height: 150px;
            text-align: center;
            position: absolute;
            right: 40px;
            top: 250px;
            font-size: 25px;
            font-weight: 600;
        }


        /* 로고 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#logo_div_abs {
            position: absolute;
            top: 0%;
            right: 0%;
            height: 9%;
        }


        /* 로고 div*/
        div#SmartFactory_InfomationStatePopUp_popup div#logo_div_abs img {
            height: 100%
        }


        /*width 2%*/
        div#SmartFactory_InfomationStatePopUp_popup .w_2p {
            width: 2%;
        }

        /*텍스트 정렬*/
        div#SmartFactory_InfomationStatePopUp_popup .text_aling_right {
            text-align: right;
        }


        /*페이지 버튼 관련*/
        div#SmartFactory_InfomationStatePopUp_popup span.carousel-control-prev-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='black' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z'/%3e%3c/svg%3e");
        }

        div#SmartFactory_InfomationStatePopUp_popup span.carousel-control-next-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='black' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z'/%3e%3c/svg%3e");
        }



        div#SmartFactory_InfomationStatePopUp_popup .display_inline {
            display: inline;
        }



        /* #region 첫페이지 그리드 */
        div#SmartFactory_InfomationStatePopUp_popup div[class$=_grid] {
            height: 17em;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(6, 1fr);
            border: 1px solid gray;
            font-size: 2em;
            font-weight: 600;
        }


        div#SmartFactory_InfomationStatePopUp_popup .item {
            border: 1px solid gray;
            padding-top: 0.8em;
            text-align: center;
        }


        /* #region 첫페이지 그리드1 */
        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(1) {
            grid-column: 1 / 3;
            grid-row: 1 / 2;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(2) {
            grid-column: 3 / 11;
            grid-row: 1 / 2;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(3) {
            grid-column: 1 / 3;
            grid-row: 2 / 3;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(4) {
            grid-column: 3 / 7;
            grid-row: 2 / 3;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(5) {
            grid-column: 7 / 11;
            grid-row: 2 / 3;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(6) {
            grid-column: 1 / 3;
            grid-row: 3 / 4;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(7) {
            grid-column: 3 / 9;
            grid-row: 3 / 4;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(8) {
            grid-column: 9 / 11;
            grid-row: 3 / 4;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(9) {
            grid-column: 1 / 3;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(10) {
            grid-column: 3 / 6;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(11) {
            grid-column: 6 / 8;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(12) {
            grid-column: 8 / 11;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(13) {
            grid-column: 1 / 3;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(14) {
            grid-column: 3 / 7;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(15) {
            grid-column: 7 / 11;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(16) {
            grid-column: 1 / 3;
            grid-row: 6 / 7;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.plan_grid .item:nth-child(17) {
            grid-column: 3 / 11;
            grid-row: 6 / 7;
        }
        /* #endregion */

        /* #region 첫페이지 그리드2 */
        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(1) {
            grid-column: 1 / 3;
            grid-row: 1 / 2;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(2) {
            grid-column: 3 / 6;
            grid-row: 1 / 2;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(3) {
            grid-column: 6 / 8;
            grid-row: 1 / 2;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(4) {
            grid-column: 8 / 11;
            grid-row: 1 / 2;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(5) {
            grid-column: 1 / 3;
            grid-row: 2 / 3;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(6) {
            grid-column: 3 / 7;
            grid-row: 2 / 3;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(7) {
            grid-column: 7 / 11;
            grid-row: 2 / 3;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(8) {
            grid-column: 1 / 3;
            grid-row: 3 / 4;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(9) {
            grid-column: 3 / 9;
            grid-row: 3 / 4;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(10) {
            grid-column: 9 / 11;
            grid-row: 3 / 4;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(11) {
            grid-column: 1 / 3;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(12) {
            grid-column: 3 / 5;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(13) {
            grid-column: 5 / 7;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(14) {
            grid-column: 7 / 9;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(15) {
            grid-column: 9 / 11;
            grid-row: 4 / 5;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(16) {
            grid-column: 1 / 3;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(17) {
            grid-column: 3 / 6;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(18) {
            grid-column: 6 / 8;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(19) {
            grid-column: 8 / 11;
            grid-row: 5 / 6;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(20) {
            grid-column: 1 / 3;
            grid-row: 6 / 7;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(21) {
            grid-column: 3 / 7;
            grid-row: 6 / 7;
        }

        div#SmartFactory_InfomationStatePopUp_popup div.result_grid .item:nth-child(22) {
            grid-column: 7 / 11;
            grid-row: 6 / 7;
        }

        /* #endregion*/

        /* #endregion */





        /* #region 첫페이지 그리드2 */
        /* #endregion */

        /* #region 기타유틸 */
        /* 범위 초과 텍스트 생략 */
        div#SmartFactory_InfomationStatePopUp_popup .text_over {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* #endregion */

    </style>


<div id="SmartFactory_InfomationStatePopUp" autoresize="Y">
    @* === 개정 조회 팝업 === *@
    @(Html.DevExtreme().Popup()
        .ID("SmartFactory_InfomationStatePopUp_popup")
        .Width(1910)
        .Height(1070)
        .Visible(false)
        .DragEnabled(false)
        .CloseOnOutsideClick(true)
        .DragEnabled(true)
        .ResizeEnabled(true)
        .ShowTitle(false)
        //.FullScreen(true)
        .OnHiding("SmartFactory_InfomationStatePopUp_popup_FullScreenOff")
        .OnHidden("SmartFactory_InfomationStatePopUp_popup_ThisTabOff")
    )

    @using (Html.DevExtreme().NamedTemplate("SmartFactory_InfomationStatePopUp_popupTemplate"))
    {
    <div id="SmartFactory_InfomationStatePopUp_popup">
        <div class="row" id="first_row">
            <div id="TopLeft_Div" class="col-8">
                <p class="h1">
                    생산진행현황
                </p>
            </div>
        </div>

        <div class="row" id="second_row">
            <div class="col-12 display-flex">
                <fieldset class="border prescriptionFieldSet col-2">
                    <legend class="prescriptionLegend pl-2">Lot 번호</legend>
                    <div class="divName mb-0 text_over" data-toggle="tooltip">
                        <p>-</p>
                    </div>
                </fieldset>

                <fieldset class="border prescriptionFieldSet col-2">
                    <legend class="prescriptionLegend pl-2">목표수량</legend>
                    <div class="divName mb-0 text_over" data-toggle="tooltip">
                        <p>-</p>
                    </div>
                </fieldset>

                <fieldset class="border prescriptionFieldSet col-3">
                    <legend class="prescriptionLegend pl-2">제품명</legend>
                    <div class="divName mb-0 text_over" data-toggle="tooltip">
                        <p>-</p>
                    </div>
                </fieldset>

                <fieldset class="border prescriptionFieldSet col-2">
                    <legend class="prescriptionLegend pl-2">설비명</legend>
                    <div class="divName mb-0 text_over" data-toggle="tooltip">
                        <p>-</p>
                    </div>
                </fieldset>

                <div class="col-3" id="TopRight_Div">
                    <p>
                    </p>
                </div>
            </div>
        </div>

        <div class="row" id="first_page_div_1">

            <div id="plan_div" class="col-5 mt-4 mb-4 ml-5 mr-3 p-0">
                <div class="divName plan_style mb-0">
                    <p>생산계획</p>
                </div>
                <div class="plan_grid">

                    <div class="item plan_style text_over">목표수량</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>

                    <div class="item plan_style text_over">표준시간</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-/HR</div>
                    </div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-/SEC</div>
                    </div>

                    <div class="item plan_style text_over">생산시간</div>
                    <div class="item text_over content_div">-</div>
                    <div class="item text_over content_div">-</div>

                    <div class="item plan_style text_over">중량</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">g</div>
                    </div>

                    <div class="item plan_style text_over">편차</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">±</div>
                    </div>

                    <div class="item plan_style text_over">투입인원</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">명</div>
                    </div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-/MAN</div>
                    </div>

                    <div class="item plan_style text_over">관리자</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>

                </div>
            </div>

            <div id="result_div" class="col-5 mt-4 mb-4 ml-3 mr-3 p-0">

                <div class="divName result_style mb-0">
                    <p>생산실적</p>
                </div>

                <div class="result_grid">
                    <div class="item result_style text_over">생산수량</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>
                    <div class="item result_style text_over">진행율</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">%</div>
                    </div>

                    <div class="item result_style text_over">표준시간</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-/HR</div>
                    </div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-/SEC</div>
                    </div>

                    <div class="item result_style text_over">생산시간</div>
                    <div class="item text_over content_div">-</div>
                    <div class="item text_over content_div">-</div>

                    <div class="item result_style text_over">양품율</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>

                    <div class="item result_style text_over">불량율</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">%</div>
                    </div>

                    <div class="item result_style text_over">평균중량</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>

                    <div class="item result_style text_over">표준편차</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">-</div>
                    </div>

                    <div class="item result_style text_over">투입인원</div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">명</div>
                    </div>
                    <div class="item text_over content_div">
                        <div class="display_inline">-</div>&nbsp;&nbsp;<div class="unit_style display_inline">/MAN</div>
                    </div>
                </div>

                @*<table class="table">
                    <tbody>
                        <tr>
                            <td class="result_style">생산수량</td>
                            <td>-</td>
                            <td class="unit_style">-</td>
                            <td class="result_style">진행율</td>
                            <td>-</td>
                            <td class="unit_style">%</td>
                        </tr>
                        <tr>
                            <td class="result_style">표준시간</td>
                            <td>-</td>
                            <td class="unit_style">-</td>
                            <td>-</td>
                            <td class="unit_style">-</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="result_style">양품율</td>
                            <td>-</td>
                            <td class="result_style">불량율</td>
                            <td>-</td>
                            <td>-</td>
                            <td class="unit_style">%</td>
                        </tr>
                        <tr>
                            <td class="result_style">생산시간</td>
                            <td colspan="4">-</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td class="result_style">평균중량</td>
                            <td>-</td>
                            <td class="unit_style">-</td>
                            <td class="result_style">표준편차</td>
                            <td>-</td>
                            <td class="unit_style">±</td>
                        </tr>
                        <tr>
                            <td class="result_style">투입인원</td>
                            <td>-</td>
                            <td class="unit_style">명</td>
                            <td>-</td>
                            <td class="unit_style">MAN</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>*@
            </div>

        </div>

        <div class="row" id="first_page_div_2">
            <div class="col-10">
                <div class="col-12" id="legend_div">
                    <div style="background: #1DB2F5; left: 45%; width: 2%;"></div>
                    <div style="left: 48%; top: 20%; font-size: 18px; font-weight: 600; width: 3%;">계획</div>
                    <div style="background: #F5564A; left: 53%; width: 2%;"></div>
                    <div style="left: 56%; top: 20%; font-size: 18px; font-weight: 600; width: 3%;">실적</div>
                </div>

                <div class="col-12 display-flex" id="chart_div">
                    <div class="col-3" id="progress_chart_div">
                        @(Html.DevExtreme().Chart()
                                .ID("progress_chart")
                                .CommonSeriesSettings(s => s
                                    .ArgumentField("state")
                                    .Type(SeriesType.Bar)
                                    .HoverMode(ChartSeriesHoverMode.None)
                                    .SelectionMode(ChartSeriesSelectionMode.None)
                                    .Label(l => l
                                        .Visible(true)
                                        .Format(f => f
                                            .Type(Format.FixedPoint)
                                            .Precision(0)
                                        )
                                        .Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .Series(s =>
                                {
                                    s.Add().ValueField("plan").Name("계획");
                                    s.Add().ValueField("result").Name("실적");
                                })
                                .Size(s => s
                                    .Height(300)
                                    .Width(380)
                                )
                                .Legend(l => l
                                    .Visible(false)
                                )
                                .Margin(m => m
                                    .Right(30)
                                )
                                .ArgumentAxis(a =>
                                    a.Label(l =>
                                        l.Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .DataSource(new[] {
                                    new { state = "진행율(%)", plan = 0, result = 0 }
                                })
                            )

                    </div>
                    <div class="col-3" id="productTime_chart_div">
                        @(Html.DevExtreme().Chart()
                                .ID("productTime_chart")
                                .CommonSeriesSettings(s => s
                                    .ArgumentField("state")
                                    .Type(SeriesType.Bar)
                                    .HoverMode(ChartSeriesHoverMode.None)
                                    .SelectionMode(ChartSeriesSelectionMode.None)
                                    .Label(l => l
                                        .Visible(true)
                                        .Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .Series(s =>
                                {
                                    s.Add().ValueField("plan").Name("계획");
                                    s.Add().ValueField("result").Name("실적");
                                })
                                .Size(s => s
                                    .Height(300)
                                    .Width(380)
                                )
                                .Legend(l => l
                                    .Visible(false)
                                )
                                .Margin(m => m
                                    .Right(30)
                                )
                                .ArgumentAxis(a =>
                                    a.Label(l =>
                                        l.Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .DataSource(new[] {
                                    new { state = "생산시간(분)", plan = 0, result = 0 }
                                })
                            )
                    </div>
                    <div class="col-3" id="UPSQty_chart_div">
                        @(Html.DevExtreme().Chart()
                                .ID("UPSQty_chart")
                                .CommonSeriesSettings(s => s
                                    .ArgumentField("state")
                                    .Type(SeriesType.Bar)
                                    .HoverMode(ChartSeriesHoverMode.None)
                                    .SelectionMode(ChartSeriesSelectionMode.None)
                                    .Label(l => l
                                        .Visible(true)
                                        .Format(f => f
                                            .Type(Format.FixedPoint)
                                            .Precision(2)
                                        )
                                        .Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .Series(s =>
                                {
                                    s.Add().ValueField("plan").Name("계획");
                                    s.Add().ValueField("result").Name("실적");
                                })
                                .Size(s => s
                                    .Height(300)
                                    .Width(380)
                                )
                                .Legend(l => l
                                    .Visible(false)
                                )
                                .Margin(m => m
                                    .Right(30)
                                )
                                .ArgumentAxis(a =>
                                    a.Label(l =>
                                        l.Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .DataSource(new[] {
                                    new { state = "-/SEC", plan = 0, result = 0 }
                                })
                            )

                    </div>
                    <div class="col-3" id="weight_chart_div">
                        @(Html.DevExtreme().Chart()
                                .ID("weight_chart")
                                .CommonSeriesSettings(s => s
                                    .ArgumentField("state")
                                    .Type(SeriesType.Bar)
                                    .HoverMode(ChartSeriesHoverMode.None)
                                    .SelectionMode(ChartSeriesSelectionMode.None)
                                    .Label(l => l
                                        .Visible(true)
                                        .Format(f => f
                                            .Type(Format.FixedPoint)
                                            .Precision(2)
                                        )
                                        .Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .Series(s =>
                                {
                                    s.Add().ValueField("plan").Name("계획");
                                    s.Add().ValueField("result").Name("실적");
                                })
                                .Size(s => s
                                    .Height(300)
                                    .Width(380)
                                )
                                .Legend(l => l
                                    .Visible(false)
                                )
                                .Margin(m => m
                                    .Right(30)
                                )
                                .ArgumentAxis(a =>
                                    a.Label(l =>
                                        l.Font(f => f
                                            .Size(20)
                                            .Weight(600)
                                        )
                                    )
                                )
                                .DataSource(new[] {
                                    new { state = "중량", plan = 0, result = 0 }
                                })
                            )

                    </div>
                </div>
            </div>

        </div>

        <div class="row display-none" id="second_page_div_1">
            <div id="circle_chart_div" class="col-10 mt-4 mb-4 ml-5 mr-3 p-0 display-flex">
                <div class="col-4" id="order_qty_chart_div">
                    @(Html.DevExtreme().BarGauge()
                            .ID("order_qty_chart")
                            .StartValue(0)
                            .EndValue(100)
                            .Values(new[] { 0.0, 0.0 })
                            .Label(l => l
                                .Visible(true)
                                .ConnectorWidth(2)
                                .Indent(1)
                                .CustomizeText(@<text>
                                    function (arg) {
                                        return arg.valueText + " %";
                                    }
                                </text>)
                                .Format(f => f
                                    .Type(Format.FixedPoint)
                                    .Precision(0)
                                )
                                .Font(f => f
                                    .Size(20)
                                    .Weight(600)
                                )
                            )
                            .Title(t => t
                                .Text("생산율")
                                .Font(f => f
                                    .Size(25)
                                    .Weight(600)
                                )
                                .Margin(m => m
                                    .Top(5)
                                    .Bottom(0)
                                )
                            )
                            .Size(s => s
                                .Height(400)
                                .Width(500)
                            )
                            .Geometry(g => g
                                .EndAngle(90)
                                .StartAngle(90)
                            )
                        )

                    <div class="sub_info align-center">
                        -
                    </div>
                </div>

                <div class="col-4" id="defect_chart_div">
                    @(Html.DevExtreme().BarGauge()
                            .ID("defect_chart")
                            .StartValue(0)
                            .EndValue(100)
                            .Values(new[] { 0.0, 0.0 })
                            .Label(l => l
                                .Visible(true)
                                .ConnectorWidth(2)
                                .Indent(1)
                                .CustomizeText(@<text>
                                    function (arg) {
                                        return arg.valueText + " %";
                                    }
                                </text>)
                                .Format(f => f
                                    .Type(Format.FixedPoint)
                                    .Precision(1)
                                )
                                .Font(f => f
                                    .Size(20)
                                    .Weight(600)
                                )
                            )
                            .Title(t => t
                                .Text("불량율")
                                .Font(f => f
                                    .Size(25)
                                    .Weight(600)
                                )
                                .Margin(m => m
                                    .Top(5)
                                    .Bottom(0)
                                )
                            )
                            .Size(s => s
                                .Height(400)
                                .Width(500)
                            )
                            .Geometry(g => g
                                .EndAngle(90)
                                .StartAngle(90)
                            )
                        )

                    <div class="sub_info align-center">
                        -
                    </div>

                </div>

                <div class="col-4" id="work_time_chart_div">
                    @(Html.DevExtreme().BarGauge()
                            .ID("work_time_chart")
                            .StartValue(0)
                            .EndValue(8)
                            .Values(new[] { 0.0, 0.0 })
                            .Label(l => l
                                .Visible(true)
                                .ConnectorWidth(2)
                                .Indent(1)
                                .CustomizeText(@<text>
                                    function (arg) {


                                        var value = 0;
                                        if(arg.value > 60) {
                                            if(arg.value % 60 == 0){
                                                value = Math.floor(arg.value / 60) + "시간";
                                            }else{
                                                value = Math.floor(arg.value / 60) + "시간" + (arg.value % 60) + "분";
                                            }
                                        }else{
                                            value = (arg.value) + "분";
                                        }

                                        return value;
                                    }
                                </text>)
                                .Font(f => f
                                    .Size(20)
                                    .Weight(600)
                                )
                            )
                            .Title(t => t
                                .Text("생산시간")
                                .Font(f => f
                                    .Size(25)
                                    .Weight(600)
                                )
                                .Margin(m => m
                                    .Top(5)
                                    .Bottom(0)
                                )
                            )
                            .Size(s => s
                                .Height(400)
                                .Width(500)
                            )
                            .Geometry(g => g
                                .EndAngle(90)
                                .StartAngle(90)
                            )
                        )

                    <div class="sub_info align-center">
                        -
                    </div>

                </div>
            </div>
        </div>

        <div class="row display-none" id="second_page_div_2">
            <div id="bar_spline_chart_div" class="col-10">
                @(Html.DevExtreme().Chart()
                        .ID("bar_spline_chart")
                        .ArgumentAxis(a => a
                            .Label(l => l
                                .OverlappingBehavior(OverlappingBehavior.Stagger)
                            )
                        )
                        .ValueAxis(a => {
                            a.Add()
                                .Name("ok_axis")
                                .Position(Position.Left);
                            a.Add()
                                .Name("defect_axis")
                                .Position(Position.Right);
                        })
                        .Series(s => {
                            s.Add()
                                .Type(SeriesType.Bar)
                                .ArgumentField("no")
                                .ValueField("ok")
                                .Axis("ok_axis")
                                .Name("양품수량")
                                //.HoverMode(ChartSeriesHoverMode.None)
                                .SelectionMode(ChartSeriesSelectionMode.None)
                                .Label(l => l
                                    .Visible(true)
                                    .Format(f => f
                                        .Type(Format.FixedPoint)
                                        .Precision(0)
                                    )
                                    .Font(f => f
                                        .Size(20)
                                        .Weight(600)
                                    )
                                );
                            s.Add()
                                .Type(SeriesType.Spline)
                                .ArgumentField("no")
                                .ValueField("ng")
                                .Axis("defect_axis")
                                .Name("불량수량")
                                //.HoverMode(ChartSeriesHoverMode.None)
                                .SelectionMode(ChartSeriesSelectionMode.None)
                                .Label(l => l
                                    .Visible(true)
                                    .Format(f => f
                                        .Type(Format.FixedPoint)
                                        .Precision(0)
                                    )
                                    .Font(f => f
                                        .Size(20)
                                        .Weight(600)
                                    )
                                );
                        })
                        .Legend(l => l
                            .VerticalAlignment(VerticalEdge.Bottom)
                            .HorizontalAlignment(HorizontalAlignment.Center)
                            .Font(f => f
                                .Size(20)
                                .Weight(600)
                            )
                        )
                        .DataSource(new[]
                        {
                            new {ng = 0, no = 0, ok = 0}
                        })
                        .Size(s => s
                            .Height(380)
                            .Width(1500)
                        )
                        .ResolveLabelOverlapping(ChartResolveLabelOverlapping.Stack)
                    )
            </div>
        </div>

        <div class="row" id="last_div">
            <div class="col-4 display-flex text_aling_right">
                <p class="h5">
                    latest date :
                </p>
                &nbsp
                &nbsp
                <p class="h5 text-danger">
                    -
                </p>
            </div>
        </div>


        <a class="carousel-control-prev w_2p ml-3" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next w_2p mr-3" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>

        <div id="img_div_abs" class="align-center">
            <img id="item_img" alt="Product Image">
        </div>

        <div id="circle_div_abs">
            -
        </div>

        <div class="align-center p-2" id="logo_div_abs"><img /></div>
    </div>
    }
</div>

