@{
    Layout = null;
    string pdfFile = ViewBag.pdfile;
    string onlyFileName = ViewBag.onlyFilename;
}

<!DOCTYPE html>

<html>
<head>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/print-js/1.5.0/print.js" integrity="sha512-j4gEMMRxGKV6WrHIPj0NmIVBRS0UTYU8tiV/q5X1Hd5iFngs1grFuu15np/tFP70tynShfcBoPHb0wR8Ag8S1Q==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/print-js/1.5.0/print.css" integrity="sha512-tKGnmy6w6vpt8VyMNuWbQtk6D6vwU8VCxUi0kEMXmtgwW+6F70iONzukEUC3gvb+KTJTLzDKAGGWc1R7rmIgxQ==" crossorigin="anonymous" />
    <meta name="viewport" content="width=device-width" />
    <title>레포트출력</title>
</head>
<body>
</body>
</html>
<script>
    
    printJS({
        printable: '@pdfFile',
        type: 'pdf',
        showModal:true,
        onLoadingEnd: function () {
            //alert('onLoadingEnd');
            $.ajax({
                url: "/Report/DeleteReport",
                type: "GET",
                data: "filename="+'@onlyFileName',                
                contentType: "application/json; charset=utf-8",
                success: function (result) {                    
                },
                error: function (error) {
                    alert("Error:"+error);
                }
            });

        },
        onPrintDialogClose: function () {
            //alert("onPrintDialogClose");
        },
        onPdfOpen: function () {
            //alert("onPdfOpen");
        },        
        //onIncompatibleBrowser: () => console.log('Pdf was opened in a new tab due to an incompatible browser')
    })
</script>
